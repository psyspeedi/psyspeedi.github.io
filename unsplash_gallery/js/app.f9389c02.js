(function(t){function e(e){for(var a,s,i=e[0],u=e[1],c=e[2],p=0,f=[];p<i.length;p++)s=i[p],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&f.push(n[s][0]),n[s]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(t[a]=u[a]);l&&l(e);while(f.length)f.shift()();return o.push.apply(o,c||[]),r()}function r(){for(var t,e=0;e<o.length;e++){for(var r=o[e],a=!0,i=1;i<r.length;i++){var u=r[i];0!==n[u]&&(a=!1)}a&&(o.splice(e--,1),t=s(s.s=r[0]))}return t}var a={},n={app:0},o=[];function s(e){if(a[e])return a[e].exports;var r=a[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=t,s.c=a,s.d=function(t,e,r){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(r,a,function(e){return t[e]}.bind(null,a));return r},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var l=u;o.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"034f":function(t,e,r){"use strict";var a=r("85ec"),n=r.n(a);n.a},"12fd":function(t,e,r){"use strict";var a=r("37d2"),n=r.n(a);n.a},"1e66":function(t,e,r){},"37d2":function(t,e,r){},"3fdd":function(t,e,r){"use strict";var a=r("9266"),n=r.n(a);n.a},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),n=r("8c4f"),o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t.loading?r("Loading"):t.error?r("h1",{staticClass:"error"},[t._v("ОШИБКА ЗАГРУЗКИ ДАННЫХ :-(")]):r("div",{staticClass:"app-wrap"},[t._l(t.photoCardArray,(function(t,e){return r("PhotoCard",{key:e,attrs:{photoCard:t}})})),r("Pagination",{attrs:{totalPages:t.photoPagesTotal}})],2)],1)},s=[],i=(r("99af"),r("a9e3"),r("d3b7"),function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)}),u=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"wrap"},[r("div",{staticClass:"lds-ripple"},[r("div"),r("div")])])}],c=(r("12fd"),r("2877")),l={},p=Object(c["a"])(l,i,u,!1,null,"1ca4f438",null),f=p.exports,d=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"photo-card"},[r("div",[r("Author",{attrs:{avatar:t.photoCard.user.profile_image.medium,name:t.photoCard.user.name,username:t.photoCard.user.username}}),r("Photo",{attrs:{photo:t.photoCard.urls.regular}}),r("ViewsCount",{attrs:{likes:t.photoCard.likes}})],1)])},h=[],g=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"author"},[r("img",{attrs:{src:t.avatar,alt:"avatar"},on:{click:t.goToProfile}}),r("div",{staticClass:"info"},[r("span",[t._v(t._s(t.name))]),r("a",{attrs:{href:t.goToProfile(t.username),target:"_blank"}},[t._v("@"+t._s(t.username))])])])},m=[],v={props:{avatar:{type:String,required:!0},name:{type:String,required:!0},username:{type:String,required:!0}},methods:{goToProfile:function(t){return"https://unsplash.com/@".concat(t)}}},b=v,_=(r("5f5a"),Object(c["a"])(b,g,m,!1,null,null,null)),C=_.exports,P=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("img",{attrs:{src:t.photo,alt:"photo"}})},y=[],w={props:{photo:{type:String,required:!0}}},O=w,j=(r("d37f"),Object(c["a"])(O,P,y,!1,null,"6975c7e2",null)),$=j.exports,x=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"wrap"},[r("span",[t._v(t._s(t.numbersReplace))]),r("svg",{attrs:{width:"18",height:"12",viewBox:"0 0 18 12",fill:"#8D8D8D",xmlns:"http://www.w3.org/2000/svg"}},[r("path",{attrs:{d:"M17.8856 5.38616C17.7248 5.16619 13.8934 0 8.99992 0C4.10647 0 0.274852 5.16619 0.114223 5.38595C-0.0380743 5.59464 -0.0380743 5.87769 0.114223 6.08637C0.274852 6.30635 4.10647 11.4725 8.99992 11.4725C13.8934 11.4725 17.7248 6.30631 17.8856 6.08655C18.0381 5.8779 18.0381 5.59464 17.8856 5.38616ZM8.99992 10.2857C5.39538 10.2857 2.27346 6.85683 1.3493 5.73587C2.27226 4.61392 5.38764 1.18681 8.99992 1.18681C12.6043 1.18681 15.726 4.61512 16.6505 5.73667C15.7276 6.85858 12.6122 10.2857 8.99992 10.2857Z",fill:"#8D8D8D"}}),r("path",{attrs:{d:"M9.00004 2.17584C7.03683 2.17584 5.43958 3.7731 5.43958 5.7363C5.43958 7.6995 7.03683 9.29676 9.00004 9.29676C10.9632 9.29676 12.5605 7.6995 12.5605 5.7363C12.5605 3.7731 10.9632 2.17584 9.00004 2.17584ZM9.00004 8.10992C7.69116 8.10992 6.62642 7.04514 6.62642 5.7363C6.62642 4.42747 7.6912 3.36269 9.00004 3.36269C10.3089 3.36269 11.3737 4.42747 11.3737 5.7363C11.3737 7.04514 10.3089 8.10992 9.00004 8.10992Z",fill:"#8D8D8D"}})])])},k=[],E={props:{likes:{type:Number,required:!0}},computed:{numbersReplace:function(){return this.likes.toLocaleString()}}},S=E,L=(r("d76e"),Object(c["a"])(S,x,k,!1,null,"5447f085",null)),M=L.exports,T={components:{Author:C,Photo:$,ViewsCount:M},props:{photoCard:{type:Object,required:!0}}},D=T,R=(r("a5a8"),Object(c["a"])(D,d,h,!1,null,null,null)),q=R.exports,N=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.pages.length?r("ul",{staticClass:"pagination"},[t.hasFirst()?r("li",[r("router-link",{attrs:{to:{name:"page",params:{page:1}}}},[t._v("1")])],1):t._e(),t.hasFirst()?r("li",[r("router-link",{attrs:{to:{name:"page",params:{page:t.middleFirst}}}},[t._v("...")])],1):t._e(),t._l(t.pages,(function(e){return r("li",[r("router-link",{class:{current:t.currentPage==e},attrs:{to:{name:"page",params:{page:e}}}},[t._v(t._s(e))])],1)})),t.hasLast()?r("li",[r("router-link",{attrs:{to:{name:"page",params:{page:t.middleLast}}}},[t._v("...")])],1):t._e(),t.hasLast()?r("li",[r("router-link",{attrs:{to:{name:"page",params:{page:t.totalPages}}}},[t._v(t._s(t.totalPages))])],1):t._e()],2):t._e()},A=[],F={props:{totalPages:{type:Number,required:!0},pageRange:{type:Number,default:1}},watch:{$route:"page"},data:function(){return{currentPage:this.$route.params.page}},computed:{page:function(){return this.currentPage=this.$route.params.page},pages:function(){for(var t=[],e=this.rangeStart;e<=this.rangeEnd;e++)t.push(e);return t},rangeStart:function(){var t=Number(this.currentPage)-this.pageRange;return t>0?t:1},rangeEnd:function(){var t=Number(this.currentPage)+this.pageRange;return t<this.totalPages?t:this.totalPages},middleFirst:function(){return Math.ceil((this.pages[0]+1)/2)},middleLast:function(){return Math.ceil((this.totalPages+Number(this.$route.params.page))/2)}},methods:{hasFirst:function(){return 1!==this.rangeStart},hasLast:function(){return this.rangeEnd<this.totalPages}}},Z=F,U=(r("3fdd"),Object(c["a"])(Z,N,A,!1,null,"6d9a7c54",null)),J=U.exports,K={accessKey:"a3b42a13f8f8bbe3ff847973284aded7806e474b0c179f5d866f88d87b3acdf8",secret:"56eb913909d501608f4621e2078854ad6089ba1ffee993df95d092ccd8b6ae60"},V={components:{PhotoCard:q,Pagination:J,Loading:f},data:function(){return{photoCardArray:[],photoPagesTotal:0,currentPage:Number(this.$route.params.page),perPage:10,loading:!0,error:!1,baseURL:"https://api.unsplash.com/photos",client_id:K.accessKey}},watch:{$route:"fetchPhotos"},methods:{fetchPhotos:function(){var t=this;this.loading=!0,fetch("".concat(this.baseURL,"/?page=").concat(this.$route.params.page,"&per_page=").concat(this.perPage,"&client_id=").concat(this.client_id)).then((function(t){return t.json()})).then((function(e){t.photoCardArray=e,t.loading=!1})).catch((function(e){new Error(e),console.log(e),t.loading=!1,t.error=!0}))},fetchTotalPages:function(){var t=this;fetch("".concat(this.baseURL,"/?client_id=").concat(this.client_id)).then((function(e){return t.photoPagesTotal=Math.ceil(e.headers.get("X-total")/t.perPage)}))}},mounted:function(){this.fetchTotalPages(),this.fetchPhotos()}},B=V,X=(r("5d17"),Object(c["a"])(B,o,s,!1,null,null,null)),z=X.exports;a["a"].use(n["a"]);var G=new n["a"]({mode:"history",routes:[{path:"/",redirect:"/5"},{path:"/:page",name:"page",component:z}]}),H=G,I=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"wrap"}},[r("router-view")],1)},Q=[],W={name:"App"},Y=W,tt=(r("034f"),Object(c["a"])(Y,I,Q,!1,null,null,null)),et=tt.exports;a["a"].config.productionTip=!1,new a["a"]({router:H,render:function(t){return t(et)}}).$mount("#app")},"5d17":function(t,e,r){"use strict";var a=r("c24f"),n=r.n(a);n.a},"5f5a":function(t,e,r){"use strict";var a=r("6bea"),n=r.n(a);n.a},"6bea":function(t,e,r){},"85ec":function(t,e,r){},9266:function(t,e,r){},a5a8:function(t,e,r){"use strict";var a=r("defb"),n=r.n(a);n.a},ba8d:function(t,e,r){},c24f:function(t,e,r){},d37f:function(t,e,r){"use strict";var a=r("1e66"),n=r.n(a);n.a},d76e:function(t,e,r){"use strict";var a=r("ba8d"),n=r.n(a);n.a},defb:function(t,e,r){}});
//# sourceMappingURL=app.f9389c02.js.map